!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var t={},n={},c={},o={}.hasOwnProperty,s=/^\.\.?(\/|$)/,a=function(e,t){for(var n,c=[],o=(s.test(t)?e+"/"+t:t).split("/"),a=0,r=o.length;a<r;a++)n=o[a],".."===n?c.pop():"."!==n&&""!==n&&c.push(n);return c.join("/")},r=function(e){return e.split("/").slice(0,-1).join("/")},i=function(t){return function(n){var c=a(r(t),n);return e.require(c,t)}},l=function(e,t){var c=b&&b.createHot(e),o={id:e,exports:{},hot:c};return n[e]=o,t(o.exports,i(e),o),o.exports},u=function(e){return c[e]?u(c[e]):e},h=function(e,t){return u(a(r(e),t))},p=function(e,c){null==c&&(c="/");var s=u(e);if(o.call(n,s))return n[s].exports;if(o.call(t,s))return l(s,t[s]);throw new Error("Cannot find module '"+e+"' from '"+c+"'")};p.alias=function(e,t){c[t]=e};var d=/\.[^.\/]+$/,f=/\/index(\.[^\/]+)?$/,g=function(e){if(d.test(e)){var t=e.replace(d,"");o.call(c,t)&&c[t].replace(d,"")!==t+"/index"||(c[t]=e)}if(f.test(e)){var n=e.replace(f,"");o.call(c,n)||(c[n]=e)}};p.register=p.define=function(e,c){if(e&&"object"==typeof e)for(var s in e)o.call(e,s)&&p.register(s,e[s]);else t[e]=c,delete n[e],g(e)},p.list=function(){var e=[];for(var n in t)o.call(t,n)&&e.push(n);return e};var b=e._hmr&&new e._hmr(h,p,t,n);p._cache=n,p.hmr=b&&b.wrap,p.brunch=!0,e.require=p}}(),function(){"undefined"==typeof window?this:window;require.register("unpublished.js",function(e,t,n){"use strict";function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var e="From your account",t=null,n=function(){$("#refresh-cache").button("loading"),$("#create-gpx").button("reset"),$.ajax({url:"unpublished.php",success:function(t){if($("#select-all").prop("checked",!1),$("#fetching-unpublished-caches").hide(),$("#refresh-cache").button("reset"),!t||""===t||"object"!==("undefined"==typeof t?"undefined":o(t)))return!1;if(t&&!t.success)alert(t.message);else{$("#table-unpublished-caches").show(),$("#table-caches tbody").html("");var n=0;$.each(t.unpublishedCaches,function(e,t){++n,$("#table-caches tbody").append('<tr class="'+e+'" data-counter="'+n+'">\n   <td>#'+n+'</td>\n   <td><input type="checkbox" name="cache" class="unpublished-geocache" value="'+e+'" id="'+e+'" /></td>\n   <td><label for="'+e+'">'+t+'</label></td>\n   <td class="link"><a href="https://coord.info/'+e+'" title="View on geocaching.com"><span class="glyphicon glyphicon-new-window"></span></a></td>\n   <td class="status"> </td>\n</tr>\n')}),$("#unpublishedCachesBlock h4").html(e+" ("+t.count+")"),$("#table-caches tbody").show()}},error:function(e,t,n){console.error(e,t,n)}})},s=function(){$.ajax({url:"unpublished-gm.php",success:function(e){return!(!e||""===e||"object"!==("undefined"==typeof e?"undefined":o(e)))&&(e&&!e.success?(alert(e.message),!1):void(e.unpublishedCaches&&($("#table-unpublished-caches-gm").show(),$("#table-caches-gm tbody").html(""),$.each(e.unpublishedCaches,function(e,t){$("#table-caches-gm tbody").append('<tr>\n   <td><input type="checkbox" name="cache-gm" class="unpublished-geocache-gm" value="'+e+'" id="'+e+'-gm" /></td>\n   <td><label for="'+e+'-gm">'+t+'</label></td>\n   <td class="link"><a href="https://www.geocaching.com/seek/cache_details.aspx?guid='+e+'" title="View on geocaching.com"><span class="glyphicon glyphicon-new-window"></span></a></td>\n</tr>\n')}))))},error:function(e,t,n){console.error(e,t,n)}})};$("#login").click(function(){var e=$(this);if("Sign in"===$(this).text()){if(""===$("#username").val()||""===$("#password").val())return e.button("reset"),!1;$("#username").prop("disabled",!0),$("#password").prop("disabled",!0),e.button("loading"),$.ajax({url:"login.php",type:"POST",data:{username:$("#username").val(),password:$("#password").val()},success:function(c){return!(!c||""===c||"object"!==("undefined"==typeof c?"undefined":o(c)))&&(c&&!c.success?(e.button("reset"),$("#username").prop("disabled",!1),$("#password").prop("disabled",!1),alert(c.message),!1):(t=c.username,$("#username").remove(),$("#password").remove(),$("#gc-form-login").prepend('<span id="signin">Hello '+c.username+"!</span>"),e.button("signout"),$("#unpublishedCachesBlock").show(),$("#fetching-unpublished-caches").show(),void n()))},error:function(e,t,n){console.error(e,t,n)}})}else"Sign out"===$(this).text()&&($("#unpublishedCachesBlock").hide(),e.button("loading"),$.ajax({url:"login.php",type:"POST",data:{signout:!0},success:function(e){return!(!e||""===e||"object"!==("undefined"==typeof e?"undefined":o(e)))&&void(e&&e.success&&location.reload())},error:function(e,t,n){console.error(e,t,n)}}))}),$("#select-all").click(function(){$(".unpublished-geocache").prop("checked",$(this).is(":checked"))}),$("#select-all-gm").click(function(){$(".unpublished-geocache-gm").prop("checked",$(this).is(":checked"))}),$("#table-caches tbody").on("click","input[type=checkbox]",function(e){if($("#chk_select").prop("checked")&&$(this).prop("checked")){var t=parseInt($(this).parents("tr").data("counter"),10),n=parseInt($("#block_select input[type=range]").val(),10)-1;$("#table-caches tbody tr:nth-child(n+"+(t+1)+"):nth-child(-n+"+(t+n)+") input[type=checkbox]").prop("checked",!0)}}),$("#refresh-cache").click(function(){$("#table-caches tbody").slideUp(400,n)}),$("#refresh-cache-gm").click(function(){$(this).button("loading"),s(),$("#select-all-gm").prop("checked",!1),$(this).button("reset")}),$("#chk_split").change(function(e){$(this).prop("checked")?$("#block_split input[type=range]").prop("disabled",!1):$("#block_split input[type=range]").prop("disabled",!0)}),$("#block_split input[type=range]").change(function(e){$("label[for=chk_split]").html("Split GPX files by "+$(this).val()+" geocaches")}),$("#chk_select").change(function(e){$(this).prop("checked")?$("#block_select input[type=range]").prop("disabled",!1):$("#block_select input[type=range]").prop("disabled",!0)}),$("#block_select input[type=range]").change(function(e){$("label[for=chk_select]").html("Pick "+$(this).val()+" geocaches")}),$("#create-gpx").click(function(){var e,n=[],o=$(this);if($("input[name=cache]:checked").each(function(){n.push(this.value)}),n.length<=0)return alert("You must choose at least one cache."),!1;$("#download-links").html(""),$("#table-caches tbody tr").removeClass("success"),$("#table-caches tbody tr").removeClass("danger"),$("#table-caches .status").html(""),o.button("loading");var s=0,a=function(e){var c=$("tr."+e).data("counter");return $.ajax({url:"geocaches.php?n="+encodeURIComponent(c),type:"POST",data:{gccode:e,username:t},beforeSend:function(){$("."+e+" .status").html('<img src="loader.gif" alt="">')}}).done(function(e){e&&e.success?($("."+e.gccode).addClass("success"),$("."+e.gccode+" .status").html('<span class="glyphicon glyphicon-ok"></span>')):($("."+e.gccode).addClass("danger"),$("."+e.gccode+" .status").html('<span class="glyphicon glyphicon-remove" data-html="true" data-content="'+e.message+'"></span>')),$("#create-gpx").html("Creating... "+(++s/n.length*100).toFixed(1)+"%")}).fail(function(t,n,c){$("."+e).addClass("danger"),$("."+e+" .status").html('<span class="glyphicon glyphicon-remove" data-html="true" data-content="<strong>Error '+t.status+"</strong>: "+c+'"></span>')}).always(function(t,n){$("."+e+" .status span").popover({trigger:"hover",animation:!1})})},r=n.map(a);(e=$).when.apply(e,c(r)).then(function(){var e=[];if(r.length>1)for(var t=0,n=r.length;t<n;++t)arguments[t][0].success&&e.push(arguments[t][0].gccode);else arguments[0].success&&e.push(arguments[0].gccode);if(e.length>0){var c={gccode:e};$("#chk_split").prop("checked")&&(c.split=$("#block_split input[type=range]").val()),$.ajax({url:"download.php",type:"POST",data:c,success:function(e){e&&e.success&&$("#download-links").append(e.link)},error:function(e,t,n){console.error(e,t,n)}})}o.button("reset")},function(e){o.button("reset"),console.log("rejection callback")})}),$("#create-gpx-gm").click(function(){var e=[];return $("input[name=cache-gm]:checked").each(function(){e.push(this.value)}),e.length<=0?(alert("You must choose at least one cache."),!1):($("#download-links-gm").html(""),$(this).button("loading"),e.length>0&&$.ajax({url:"download.php",type:"POST",data:{gccode:e,greasemonkey:!0},success:function(e){e&&e.success&&$("#download-links-gm").append(e.link)},error:function(e,t,n){console.error(e,t,n)}}),void $(this).button("reset"))});var a=[],r=function(e){for(var t=e+"=",n=document.cookie.split(";"),c=0,o=n.length;c<o;++c){for(var s=n[c];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return null},i=function(e,t){setInterval(function(){if(a[e]){if(r(e)!==a[e])return a[e]=r(e),t()}else a[e]=r(e)},1e3)};i("unpublished",function(){$("#refresh-cache-gm").trigger("click")}),$().ready(function(){s(),"true"===logged&&$("#fetching-unpublished-caches").show(0,n)})}()}),require.register("___globals___",function(e,t,n){})}(),require("___globals___");